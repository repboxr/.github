# Repbox

Author: Sebastian Kranz, Ulm University

The `repboxr` organisation mainly contains R packages for the *Repbox* project that shall facilitate reproducible research. (Unfornately `repbox` was already taken as an organisation name on Github. Since most of the code is in R, I picked `repboxr`, instead.) The project currently concentrates on economics and social sciences.

Currently, all packages are in a pilot phase and the project needs substantial large scale testing, improvement and documentation. It still a long way to go. While currently almost all contributions are by Sebastian Kranz, the goals is that a stable version will have a wide community including ata editors, authors and researchers performing meta studies.

## Overview of packages and repositories

[repboxRun](https://github.com/repboxr/repboxRun): Functions that help running repbox analysis steps that are implmented in the different packages.

[repboxArt](https://github.com/repboxr/repboxArt): Analyse articles in PDF or HTML versions.
  - Convert PDF or HTML to a common representation that stores text information including sections, paragraphs and footnote markers.
  - Extract and store scientific tables (relying on the `extractSciTab` package explained further below).
  - Analyse keywords, like `regression analys` and links to tables or figures in the text.

[repboxCodeText](https://github.com/repboxr/repboxCodeText): Study keywords in comments of supplement script files.
  - Currently only analyses in Stata do files of supplements whether comments contain links to tables or figures.

[repboxStata](https://github.com/repboxr/repboxStata): Analyse, modify and run Stata do files in supplements
  - Contains a rudimentary Stata parser that can write Stata do files in a more canonical form. That is required to perform code injections and systematically store information about the stata scripts.
  - Allows to prepare do files via specific code injections. Some code injections like automatic path corrections shall improve the share of do files that run out of the box. Other injections help to systematically extract log information that can be stored in a data base. While the proto-type works, there are many special cases that will need adaption of the code base. It will be a lengthy process.
  - Run the prepared Stata code in the correct order.
  - Extract the generated raw log information generated by the code injection and convert it into a format better suited for subsequent analysis.
  - The package also contains Stata code, e.g. functions in ado files that will be called to perform path correction at runtime.

[repboxR](https://github.com/repboxr/repboxR): Analyse, modify and run R files in supplements
   - While `repboxStata` has a rather monolithic structure,`repboxR` uses several other helper packages described further below. They include `sourcemodify` for code analysis and injections, `repboxRfun` for functions that will be called by injected code for path correction and more.

[repboxReg](https://github.com/repboxr/repboxReg): Analyse regressions in Stata and R scripts
  - Currently mainly implemented for Stata scripts. The prototype for R is in the repboxR package.
  - Use code injection to extract detailed information after a regression command is run, including non-rounded values for coefficients, standard errors, t- and p-values. Also general regression statistics like R2 will be stored.
  - The code injection may cause itself errors. Typically, the Stata scripts will be run twice first without and then with code injections related to the regression analysis.
  - We also extract information from a static analysis of the Stata commands and store them in a systematic fashion. One main example are systematic extraction of the type of standard errors (including clustering variables).
  - We also store information about the data set used in the regressions, e.g. which variables are numeric, categorical or dummy variables.
  - Regression formulas will be stored in a canonical table representation that contains information about variable roles (e.g. explanatory variable or instrument), features like interaction effects or variable transformations. 
  - In the results table, coefficient names are not normalized across Stata commands (or R commands). Also using the systematic information extracted from the regression formulas the `repboxReg` package transform coefficient names into a canonical form that will also allow mapping back to the information extracted from the data set. 
  - In the long run, I would like to have a framework that allows to easily run meta studies that systematically study effects of modifying existing regression analyses. E.g. one might check whether results are robust to different specifications of standard errors. My codename of that framework is `metareg`. The `repboxReg` package already contains functionality for the `metareg` project and tries to store information in a way that can be used for `metareg` studies. But the `metareg` project is still in its infancy.
  -  

